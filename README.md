# å§“åæµ‹è¯•è½¯ä»¶

åŸºäºä¼ ç»Ÿå‘½ç†å­¦çš„å§“ååˆ†æç³»ç»Ÿ

## åŠŸèƒ½ç‰¹ç‚¹

- ä¸‰æ‰äº”æ ¼åˆ†æ
- ç”Ÿè¾°å…«å­—è®¡ç®—ï¼ˆæ”¯æŒ1900-2099å¹´ï¼‰
- å­—ä¹‰éŸ³å½¢åˆ†æ
- ç”Ÿè‚–å–œå¿Œåˆ†æ
- ç§°éª¨ç®—å‘½
- ç»¼åˆè¯„åˆ†
- æ‰¹é‡å¤„ç†ï¼ˆæ”¯æŒTXT/CSV/JSONæ ¼å¼ï¼‰
- å†å²è®°å½•ç®¡ç†

## å…¬å¸æµ‹åï¼ˆSRD-å…¬å¸ç‰ˆæœ¬ï¼‰

åœ¨ä¸ªäººç‰ˆåŸºç¡€ä¸Šæ‰©å±•å…¬å¸åç§°æµ‹è¯•ï¼š

- å…¬å¸åç»“æ„è§£æï¼š[è¡Œæ”¿åŒºåˆ’] + [å­—å·/ä¸»å] + [è¡Œä¸š/ç»è¥ç‰¹ç‚¹] + [ç»„ç»‡å½¢å¼]
- ä¸¤å¥—äº”æ ¼è®¡ç®—ï¼šä¸»åä¸å…¨ç§°ï¼ˆæ€»æ ¼>81æŒ‰è¡Œä¸šæƒ¯ä¾‹å‡81ï¼‰
- è¡Œä¸šç‰¹æ€§åˆ†æï¼šäº”è¡ŒåŒ¹é… + è¡Œä¸šå‰ç¥¥å­—åº“ï¼›åŒ…å«â€œå–œç”¨ç¥åŒ¹é…åº¦â€
- ç»¼åˆè¯„åˆ†ï¼šäº”æ ¼15% + è¡Œä¸š20% + å…«å­—35% + å–œç”¨20% + ç”Ÿè‚–5% + å­—ä¹‰5%
- è´Ÿè´£äººä¿¡æ¯ï¼šæ€§åˆ«å¿…å¡«ã€å‡ºç”Ÿæ—¶é—´ä¸ç»çº¬åº¦å¿…å¡«ï¼ˆä¸‡å¹´å†ä¼˜å…ˆï¼‰

### å¿«é€Ÿå¼€å§‹

```powershell
# äº¤äº’å¼å…¬å¸æµ‹åï¼ˆå«é€å­—æ¸…å•å±•ç¤ºï¼‰
python company_ceshi.py -c

# æ‰¹é‡å…¬å¸æµ‹åï¼ˆé™åˆ¶æœ€å¤šå¤„ç†5æ¡ï¼‰
python company_ceshi.py -bc tests\company_batch.csv --export-company tests\out_company_batch.json

# æŸ¥çœ‹å…¬å¸ç‰ˆæ‰¹é‡ç»“æœï¼ˆæ•°ç»„JSONï¼‰
python tests\view_company_batch_result.py tests\out_company_batch.json

# è¡Œä¸šäº”è¡Œå¯¹ç…§è¡¨
python company_ceshi.py --industry-help

# å†å²ç®¡ç†
python company_ceshi.py --company-history
python company_ceshi.py --clear-history
```

### è¾“å‡ºè¯´æ˜

- äº¤äº’æ¨¡å¼ä¼šæ‰“å°ï¼šåç§°ç»“æ„ã€é€å­—æ¸…å•ï¼ˆç¹ä½“/æ‹¼éŸ³/ç¬”ç”»/äº”è¡Œ/å‡¶å‰ï¼‰ã€ä¸»å/å…¨ç§°ä¸¤å¥—äº”æ ¼ã€åˆ†é¡¹è¯„åˆ†ä¸ç»¼åˆè¯„åˆ†ã€‚
- æ‰¹é‡å¯¼å‡ºï¼ˆJSONæ•°ç»„ï¼‰åŒ…å«ï¼šè§£æç»“æ„ã€è¡Œä¸šåˆ†æç»†èŠ‚ã€ä¸¤å¥—äº”æ ¼ã€ç”Ÿè‚–ä¸å­—ä¹‰åˆ†æã€åˆ†é¡¹ä¸ç»¼åˆè¯„åˆ†ï¼Œæ–¹ä¾¿å®¡è®¡ä¸å¤ç°ã€‚

## ğŸ“š æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ [docs/](docs/) ç›®å½•ï¼š

- **[æ‰¹é‡å¤„ç†è¯´æ˜](docs/batch_input_format.md)** - æ‰¹é‡å¤„ç†æ–‡ä»¶æ ¼å¼å’Œä½¿ç”¨æ–¹æ³•
- **[æ•°æ®ç®¡ç†æŒ‡å—](docs/DATA_MANAGEMENT_GUIDE.md)** - æ•°æ®è¡¨ç»Ÿè®¡ã€æ¸…ç©ºå’Œæ¢å¤æ“ä½œ
- **[å†å²è®°å½•ç®¡ç†](docs/CLEAR_HISTORY_GUIDE.md)** - æ¸…ç©ºå†å²è®°å½•æ“ä½œæŒ‡å—
- **[å†œå†æ˜¾ç¤ºåŠŸèƒ½](docs/LUNAR_DISPLAY_FEATURE.md)** - å†œå†æ—¥æœŸæ˜¾ç¤ºè¯´æ˜
- **[æ›´å¤šæ–‡æ¡£...](docs/README.md)** - å®Œæ•´æ–‡æ¡£ç´¢å¼•

## å®‰è£…ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- SQLite 3

### è¿è¡Œæ–¹å¼

```bash
# å¯åŠ¨äº¤äº’ç•Œé¢
python bazi.py

# å¼€å§‹å§“åæµ‹è¯•
python bazi.py -t

# æ‰¹é‡å¤„ç†
python bazi.py -b tests/example_input.json
python tests/view_batch_result.py tests/example_input_result.json

# å…¬å¸ç‰ˆæ‰¹é‡ä¸æŸ¥çœ‹ï¼ˆæ¨èæ”¾åœ¨ tests/ è·¯å¾„ï¼‰
python company_ceshi.py -bc tests/company_batch.csv --export-company tests/out_company_batch.json
python tests/view_company_batch_result.py tests/out_company_batch.json

# æŸ¥çœ‹å¸®åŠ©
python bazi.py -h

# æ•°æ®ç®¡ç†
python bazi.py --show-tables      # æ˜¾ç¤ºæ•°æ®è¡¨ç»Ÿè®¡
python bazi.py --reload-data      # é‡æ–°åŠ è½½èµ„æºæ•°æ®
python bazi.py --clear-history    # æ¸…ç©ºå†å²è®°å½•
python bazi.py --clear-all-data   # æ¸…ç©ºæ‰€æœ‰æ•°æ®è¡¨ï¼ˆéœ€è¦é‡æ–°åŠ è½½èµ„æºï¼‰

# æ˜¾ç¤ºç»çº¬åº¦æŸ¥è¯¢å¸®åŠ©
python bazi.py --geo-help
```

## æ•°æ®æ–‡ä»¶æ ¼å¼

æ‰€æœ‰æ•°æ®æ–‡ä»¶å­˜æ”¾åœ¨ `data/` ç›®å½•ä¸‹ï¼Œä½¿ç”¨ JSON æ ¼å¼ï¼š

### kangxi.json - åº·ç†™å­—å…¸ç¬”ç”»
```json
{
  "version": "1.0",
  "data": [
    {"character": "å¼ ", "strokes": 11}
  ]
}
```

### ziyi.json - å­—ä¹‰éŸ³å½¢
```json
{
  "version": "1.0",
  "data": [
    {
      "character": "ä¼Ÿ",
      "pinyin": "wei",
      "tones": [3],
      "bushou": "äº»",
      "bihua": 11,
      "wuxing": "åœŸ",
      "meaning": "ä¼Ÿå¤§ã€é«˜å¤§ã€æ°å‡º",
      "jixiong": "å‰"
    }
  ]
}
```

## æŸ¥è¯¢ç»çº¬åº¦åæ ‡

1. å¤©åœ°å›¾ï¼šhttps://map.tianditu.gov.cn/
2. é«˜å¾·åœ°å›¾ï¼šhttps://lbs.amap.com/demo/javascript-api/example/map/click-to-get-lnglat
3. ç™¾åº¦åœ°å›¾ï¼šhttps://api.map.baidu.com/lbsapi/getpoint/index.html

## æ•°æ®åº“è¯´æ˜

ç¨‹åºä½¿ç”¨ SQLite æ•°æ®åº“ `local.db` å­˜å‚¨ï¼š

- èµ„æºæ•°æ®è¡¨ï¼ˆ8ä¸ªï¼‰ï¼šåº·ç†™ç¬”ç”»ã€å­—ä¹‰éŸ³å½¢ã€çº³éŸ³äº”è¡Œã€æ•°ç†äº”è¡Œã€ä¸‰æ‰é…ç½®ã€ç”Ÿè‚–å–œå¿Œã€ç§°éª¨å‘½ç†ã€éª¨é‡è¡¨
- ç»“æœæ•°æ®è¡¨ï¼ˆå…¬å¸/ä¸ªäººï¼‰ï¼šæµ‹è¯•è®°å½•ã€äº”æ ¼ç»“æœã€è¡Œä¸šåˆ†æã€ç”Ÿè‚–åˆ†æã€å­—ä¹‰åˆ†æã€ç»¼åˆè¯„åˆ†ç­‰ï¼ˆå…¬å¸ç‰ˆæ–°å¢ company_* è¡¨ï¼‰

## æ—¥å¿—æ–‡ä»¶

è¿è¡Œæ—¥å¿—ä¿å­˜åœ¨ `logs/app.log`

## å¼€å‘è§„èŒƒ

- éµå¾ª PEP 8 ä»£ç è§„èŒƒ
- ä½¿ç”¨ UTF-8 ç¼–ç 
- å‡½æ•°æ·»åŠ ç±»å‹æ³¨è§£
- æ¨¡å—æ·»åŠ  docstring

## ç‰ˆæœ¬ä¿¡æ¯

å½“å‰ç‰ˆæœ¬ï¼šv1.1

å…¬å¸ç‰ˆå½“å‰ç‰ˆæœ¬ï¼š0.3.0-company

## ä½œè€…

HunterLau@HongKong

## è®¸å¯è¯

BSD License
